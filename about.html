<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ABOUT — HIDDEN</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="page-about">
  
  <!-- Fixed navigation - 동적 생성 -->
  <nav class="nav nav--archive" aria-label="Main navigation">
    <div class="nav-inner">
      <a href="index.html" class="nav-logo">HIDDEN</a>
      <div class="nav-links" id="dynamicNavLinks">
        <!-- tabs_config.json 기반으로 동적 생성 -->
        <a href="about.html" class="nav-link nav-link--active">ABOUT</a>
      </div>
    </div>
  </nav>

  <!-- About content - 동적 생성 -->
  <main class="about about-futura">
    
    <!-- Hero Section - about_data.json 기반으로 동적 생성 -->
    <section class="about-hero-simple" id="aboutHero">
      <!-- 동적으로 로드됨 -->
    </section>

    <!-- CV Section - 동적 생성 -->
    <section class="about-cv-simple" id="aboutSections">
      <!-- about_data.json 기반으로 동적 생성 -->
    </section>

  </main>

  <!-- Site Footer -->
  <footer class="site-footer">
    <div class="site-footer-inner">
      
      <div class="footer-header">
        <div class="footer-logo">HIDDEN</div>
        <p class="footer-description">
          HIDDEN is Yonsei University’s only interior architecture society.
We explore space through architecture, materiality, and experimentation.
By questioning the ordinary, we reveal new spatial possibilities.
        </p>
      </div>
      
      <hr class="footer-divider">
      
      <div class="footer-columns" id="dynamicFooterColumns">
        <!-- tabs_config.json 기반으로 동적 생성 -->
      </div>
      
      <hr class="footer-divider">
      
      <div class="footer-bottom">
        <p class="footer-copyright">
          © 2026 HIDDEN Yonsei. All rights reserved. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of the author.
        </p>
        <div class="footer-social">
          <a href="mailto:hiddenyonsei25@gmail.com" class="footer-social-link" aria-label="Email">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
          </a>
          <a href="https://www.instagram.com/hidden_yonsei/" class="footer-social-link" target="_blank" rel="noopener" aria-label="Instagram">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // 동적 네비게이션 및 About 섹션 로드
    (function() {
      // tabs_config.json 로드하여 네비게이션 생성
      async function loadNavigation() {
        try {
          const response = await fetch('tabs_config.json');
          const tabs = await response.json();
          
          const navLinks = document.getElementById('dynamicNavLinks');
          if (!navLinks) return;
          
          // About 링크 제외하고 비우기
          const aboutLink = navLinks.querySelector('.nav-link--active');
          navLinks.innerHTML = '';
          
          // visible인 탭만 추가
          tabs.filter(tab => tab.visible).forEach(tab => {
            const link = document.createElement('a');
            link.href = tab.file;
            link.className = 'nav-link';
            link.textContent = tab.name;
            navLinks.appendChild(link);
          });
          
          // About 링크 다시 추가
          if (aboutLink) navLinks.appendChild(aboutLink);
          
          // 푸터 컬럼도 동적 생성
          createFooterColumns(tabs);
        } catch (e) {
          console.warn('tabs_config.json 로드 실패:', e);
        }
      }
      
      // 푸터 컬럼 동적 생성 (visible인 탭만)
      function createFooterColumns(tabs) {
        const footerColumns = document.getElementById('dynamicFooterColumns');
        if (!footerColumns) return;
        
        const visibleTabs = tabs.filter(tab => tab.visible);
        footerColumns.innerHTML = '';
        
        if (visibleTabs.length === 0) {
          footerColumns.style.display = 'none';
          return;
        }
        
        visibleTabs.forEach(tab => {
          const column = document.createElement('div');
          column.className = 'footer-column';
          column.innerHTML = `
            <div class="footer-projects-wrapper">
              <h3 class="footer-section-title">${tab.name}</h3>
              <nav class="footer-projects">
                <a href="${tab.file}" class="footer-project-link">View All →</a>
              </nav>
            </div>
          `;
          footerColumns.appendChild(column);
        });
      }
      
      // about_data.json 로드하여 Hero 및 섹션 생성
      async function loadAboutSections() {
        try {
          const response = await fetch('about_data.json?t=' + Date.now());
          const data = await response.json();
          
          // Hero 섹션 렌더링
          const heroContainer = document.getElementById('aboutHero');
          if (heroContainer && data.hero) {
            const hero = data.hero;
            heroContainer.innerHTML = `
              <h1 class="about-name-inline"><span class="name-main">${hero.name || 'HIDDEN'},</span> <span class="name-title">${hero.title || ''}</span></h1>
              <p class="about-affiliation">${hero.affiliation || ''}</p>
            `;
          }
          
          // CV 섹션 렌더링
          const sectionsContainer = document.getElementById('aboutSections');
          if (!sectionsContainer) return;
          
          sectionsContainer.innerHTML = '';
          
          // visible인 섹션만 렌더링
          data.sections.filter(section => section.visible).forEach(section => {
            const block = document.createElement('div');
            block.className = 'cv-block';
            
            let itemsHTML = '';
            if (section.items && section.items.length > 0) {
              section.items.forEach(item => {
                if (item.type === 'email') {
                  itemsHTML += `<li><a href="mailto:${item.content}">${item.content}</a></li>`;
                } else if (item.type === 'link') {
                  itemsHTML += `<li><a href="${item.url}" class="link-underline" target="_blank" rel="noopener">${item.content}</a></li>`;
                } else if (item.date) {
                  itemsHTML += `<li><span class="cv-date">${item.date}</span><span class="cv-content">${item.content}</span></li>`;
                } else {
                  // 줄바꿈 처리
                  const content = (item.content || '').replace(/\n/g, '<br>');
                  itemsHTML += `<li>${content}</li>`;
                }
              });
            }
            
            block.innerHTML = `
              <h2 class="cv-heading">${section.title}</h2>
              <ul class="cv-list-simple">${itemsHTML}</ul>
            `;
            
            sectionsContainer.appendChild(block);
          });
          
          // 푸터 설명도 업데이트
          const footerDesc = document.querySelector('.footer-description');
          if (footerDesc && data.sections) {
            const aboutSection = data.sections.find(s => s.id === 'custom_2' || s.title.includes('ABOUT'));
            if (aboutSection && aboutSection.items && aboutSection.items[0]) {
              footerDesc.textContent = aboutSection.items[0].content || '';
            }
          }
        } catch (e) {
          console.warn('about_data.json 로드 실패:', e);
        }
      }
      
      // 페이지 로드 시 실행
      document.addEventListener('DOMContentLoaded', () => {
        loadNavigation();
        loadAboutSections();
      });
    })();
  </script>
  <script type="application/json" id="footerData">{"projects": [{"title": "WOOD: BREATHE", "visible": true}, {"title": "SOFT CONCRETE", "visible": true}, {"title": "Fabric", "visible": true}, {"title": "PAPER: Folded Structure", "visible": true}, {"title": "HIDDEN EXHIBITION", "visible": true}], "drawings": [{"title": "JuunJ", "visible": true}, {"title": "SECTION STUDIES", "visible": true}, {"title": "MATERIAL EXPLORATIONS", "visible": true}, {"title": "MONTANA", "visible": true}], "graphics": [{"title": "SEQUENCE", "visible": true}]}</script>

  <script src="script.js"></script>
</body>
</html>
